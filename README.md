# Tidy Browser Extension

## 产品概述

Tidy 是一款基于人工智能的浏览器翻译插件，旨在为用户提供沉浸式的双语阅读体验，提升信息获取效率。该插件支持多种翻译场景，包括网页翻译、PDF文档翻译、图片翻译、视频字幕翻译等。

## 核心功能

### 1. 网页翻译
- **智能翻译**: 自动识别网页内容区域，提供精准的双语对照翻译
- **保持排版**: 翻译过程中保持原网页的布局和样式
- **多种触发方式**:
  - 浏览器插件按钮
  - 网页右侧快捷图标
  - 右键菜单翻译
  - 快捷键操作 (Alt+A: 翻译/切换原文, Alt+W: 全页翻译)

### 2. PDF文档翻译
- **免费版**: 支持标准PDF文档翻译
- **Pro版**: 支持扫描版PDF、公式识别、多栏内容重新排版
- **BabelDOC**: 新一代智能PDF翻译工具，采用排版保持技术
- **支持格式**: PDF, ePub, Mobi等电子书格式

### 3. 视频字幕翻译
- **YouTube双语字幕**: 自动为YouTube视频添加双语字幕
- **在线会议翻译**: 支持Zoom、Google Meet、Microsoft Teams等平台
- **字幕文件翻译**: 支持.srt、.ass等格式字幕文件

### 4. 图片翻译 (Beta)
- **免费版**: 基于浏览器OCR技术，支持Chrome和Edge
- **Pro版**: 服务端AI识别，支持多种语言
- **触发方式**: 右键菜单、鼠标悬停快捷键

### 5. 漫画翻译 (Beta)
- **智能识别**: 自动识别漫画网站，提供翻译按钮
- **支持平台**: Pixiv、MANGA Plus、MangaDex等主流漫画网站

### 6. 电子书阅读
- **在线阅读**: 支持Epub、Mobi等格式电子书
- **双语导出**: 生成双语对照的电子书文件

## 📥 下载安装

### 方式1: 直接下载（推荐）

#### 下载链接
- **开发版本**: [下载 extension-dev 文件夹](./build/dist/extension-dev/) - 用于开发者模式加载
- **打包版本**: [下载 tidy-v1.0.0.zip](./build/dist/tidy-v1.0.0.zip) - 22KB，用于Chrome Web Store发布

#### 安装步骤
1. **开发者模式安装**（推荐用于测试）
   - 下载并解压 `extension-dev` 文件夹
   - 打开 Chrome 浏览器，访问 `chrome://extensions/`
   - 开启右上角的 **"开发者模式"**
   - 点击 **"加载已解压的扩展程序"**
   - 选择解压后的 `extension-dev` 文件夹
   - 扩展将立即加载并可用

2. **Chrome Web Store 发布版**
   - 下载 `tidy-v1.0.0.zip` 文件
   - 用于上传到 Chrome Web Store 或本地安装

### 方式2: 从源码构建

## 构建和部署

### 快速开始

#### 前置要求
- macOS 操作系统
- Bash shell (macOS 自带)
- zip 命令 (macOS 自带)
- Chrome 浏览器

#### 一键构建
```bash
# 克隆项目
git clone <repository-url>
cd tify

# 运行构建脚本
./build.sh
```

#### 构建选项
```bash
# 显示帮助信息
./build.sh --help

# 清理构建文件
./build.sh --clean

# 详细输出模式
./build.sh --verbose
```

### 构建输出

构建脚本会生成以下文件：

```
build/
└── dist/
    ├── tidy-v1.0.0.zip    # 用于Chrome Web Store
    └── extension-dev/                        # 用于开发者模式
        ├── manifest.json
        └── src/
            ├── background/
            ├── content/
            ├── popup/
            ├── assets/
            └── welcome/
```

### 安装方法

#### 方式1: 开发者模式安装（推荐用于测试）

1. 打开 Chrome 浏览器
2. 在地址栏输入 `chrome://extensions/`
3. 开启右上角的 **"开发者模式"**
4. 点击 **"加载已解压的扩展程序"**
5. 选择 `build/dist/extension-dev/` 文件夹
6. 扩展将立即加载并可用

#### 方式2: Chrome Web Store 发布

1. 访问 [Chrome 开发者控制台](https://chrome.google.com/webstore/devconsole/)
2. 登录你的 Google 开发者账户
3. 点击 **"添加新项"**
4. 上传 `build/dist/tidy-v1.0.0.zip` 文件
5. 按照指引完成发布流程

### 构建脚本功能

`build.sh` 脚本提供了以下功能：

- ✅ **自动版本检测**: 从 `manifest.json` 读取版本号
- ✅ **智能文件过滤**: 自动排除开发文件和临时文件
- ✅ **格式验证**: 验证 `manifest.json` 格式正确性
- ✅ **双重输出**: 同时生成开发版本和发布版本
- ✅ **彩色日志**: 清晰的构建过程显示
- ✅ **错误处理**: 完善的错误检查和提示
- ✅ **自动清理**: 构建完成后自动清理临时文件

### 文件结构说明

```
项目根目录/
├── manifest.json           # 扩展配置文件
├── build.sh               # 构建脚本
├── src/                   # 源代码目录
│   ├── background/        # 后台脚本
│   ├── content/          # 内容脚本
│   ├── popup/            # 弹出窗口
│   ├── assets/           # 静态资源
│   └── welcome/          # 欢迎页面
├── build/                # 构建输出 (自动生成)
└── README.md             # 项目说明
```

### 开发调试

#### 本地开发
1. 使用开发者模式安装扩展
2. 修改源代码后，在扩展管理页面点击 **"重新加载"**
3. 使用 Chrome DevTools 调试

#### 常见问题

**Q: 构建失败，提示权限错误？**
```bash
chmod +x build.sh
```

**Q: 扩展安装后无法使用？**
- 检查 `manifest.json` 格式是否正确
- 确认所有必需文件都已包含
- 查看 Chrome 扩展管理页面的错误信息

**Q: 如何更新扩展版本？**
1. 修改 `manifest.json` 中的 `version` 字段
2. 重新运行 `./build.sh`
3. 安装新版本

## 技术架构

### 前端技术栈
- **浏览器扩展**: Chrome Extension Manifest V3
- **UI框架**: React/Vue.js
- **样式**: CSS3 + 响应式设计
- **状态管理**: Redux/Vuex

### 后端服务
- **AI翻译引擎**: 集成多种翻译API (Google Translate, DeepL, OpenAI等)
- **OCR服务**: 图片文字识别
- **PDF处理**: 文档解析和排版保持
- **字幕处理**: 音频识别和字幕生成

### 核心模块
```
src/
├── background/          # 后台脚本
├── content/            # 内容脚本
├── popup/              # 弹出窗口
├── options/            # 设置页面
├── utils/              # 工具函数
├── services/           # API服务
└── assets/             # 静态资源
```

## 用户界面设计

### 1. 插件图标
- 简洁的翻译图标设计
- 支持深色/浅色主题
- 状态指示器 (翻译中/已完成)

### 2. 弹出窗口
- 翻译开关
- 语言选择
- 翻译模式切换 (双语/仅译文)
- 快捷功能入口

### 3. 网页内UI
- 右侧悬浮快捷按钮
- 翻译进度指示器
- 设置面板
- 反馈按钮

### 4. 设置页面
- 翻译服务配置
- 快捷键管理
- 界面自定义
- 高级选项

## 产品特色

### 1. 智能化体验
- **智能内容识别**: 自动识别网页主要内容区域
- **上下文理解**: AI理解上下文，提供更准确的翻译
- **个性化学习**: 根据用户使用习惯优化翻译效果

### 2. 多场景支持
- **全平台覆盖**: 支持主流浏览器和操作系统
- **多格式支持**: 网页、文档、图片、视频、音频
- **离线功能**: 基础翻译功能支持离线使用

### 3. 用户友好
- **一键翻译**: 简单易用的操作方式
- **自定义选项**: 丰富的个性化设置
- **快捷键支持**: 提高操作效率

## 商业模式

### 免费版功能
- 基础网页翻译
- 标准PDF翻译
- 基础图片翻译 (Chrome/Edge)
- 字幕文件翻译
- 社区支持

### Pro版功能
- 高级AI翻译引擎
- 扫描版PDF翻译
- Pro版图片翻译
- 优先客服支持
- 高级自定义选项

## 技术实现要点

### 1. 翻译质量优化
- 多引擎翻译结果对比
- 上下文语义理解
- 专业术语词典
- 用户反馈学习

### 2. 性能优化
- 翻译结果缓存
- 懒加载机制
- 后台预翻译
- 资源压缩

### 3. 安全性保障
- 数据加密传输
- 隐私保护机制
- 安全API调用
- 用户数据控制

## 开发计划

### Phase 1: 基础功能 (2个月)
- [x] 浏览器扩展框架搭建
- [x] 基础网页翻译功能
- [x] 用户界面设计
- [x] 翻译API集成

### Phase 2: 核心功能 (3个月)
- [ ] PDF文档翻译
- [ ] 图片翻译功能
- [ ] 字幕翻译支持
- [ ] 设置页面完善

### Phase 3: 高级功能 (2个月)
- [ ] 漫画翻译
- [ ] 电子书支持
- [ ] AI增强功能
- [ ] Pro版功能开发

### Phase 4: 优化完善 (1个月)
- [ ] 性能优化
- [ ] 用户体验改进
- [ ] 多语言支持
- [ ] 测试和发布

## 竞品分析

### 优势
- **AI驱动**: 基于最新AI技术，翻译质量更高
- **多场景支持**: 覆盖网页、文档、图片、视频等多种场景
- **用户体验**: 沉浸式双语阅读体验
- **技术先进**: 排版保持、公式识别等先进技术

### 差异化
- **智能化程度**: 更强的上下文理解和内容识别
- **个性化**: 基于用户习惯的翻译优化
- **生态完整**: 从翻译到分享的完整生态

## 成功指标

### 用户指标
- 日活跃用户数 (DAU)
- 月活跃用户数 (MAU)
- 用户留存率
- 用户满意度评分

### 产品指标
- 翻译准确率
- 翻译速度
- 功能使用率
- 错误率

### 商业指标
- 免费用户转化率
- Pro版订阅率
- 用户生命周期价值 (LTV)
- 客户获取成本 (CAC)

## 风险与挑战

### 技术风险
- AI翻译质量不稳定
- 浏览器兼容性问题
- 性能瓶颈
- 数据安全风险

### 市场风险
- 竞品压力
- 用户接受度
- 商业模式验证
- 政策法规变化

### 应对策略
- 持续技术优化
- 用户反馈收集
- 灵活的产品迭代
- 合规性保障

## 总结

Tidy 浏览器插件旨在通过先进的AI技术，为用户提供高质量的沉浸式翻译体验。产品设计注重用户体验、功能完整性和技术先进性，通过免费+付费的商业模式实现可持续发展。

该产品将帮助用户打破语言障碍，提升信息获取效率，成为跨语言交流的重要工具。

---

## 参考资源

- [沉浸式翻译官方文档](https://immersivetranslate.com/zh-Hans/docs/usage/)
- Chrome Extension Manifest V3 文档
- 主流翻译API文档 (Google Translate, DeepL, OpenAI) 